{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/SinglePerson.js","components/Persons.js","components/Notification.js","components/Showerror.js","services/persons.js","App.js","index.js"],"names":["Filter","query","changehandler","value","onChange","PersonForm","addName","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","SinglePerson","person","deletePerson","className","name","number","onClick","Persons","filteredPersons","map","filteredperson","key","id","Notification","message","Showerror","baseUrl","axios","get","then","response","data","newObject","post","delete","put","App","useState","persons","setPersons","setNewName","setNewNumber","showFiltered","setshowFiltered","errorMessage","setErrorMessage","Message","setMessage","useEffect","personService","initialPersons","length","filter","toLowerCase","indexOf","event","target","preventDefault","personObject","names","push","includes","window","confirm","find","x","p","changedPerson","returnedPerson","setTimeout","catch","error","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3e83d88e.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({query, changehandler}) => {\n\treturn (\n\t\t<p>Filter shown with <input value={query} onChange={changehandler}/></p>\n\t)\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({addName, newName, handleNameChange, newNumber, handleNumberChange}) => {\n\treturn (\n\t\t<form onSubmit={addName}>\n\t\t  <div>\n\t\t\tname: <input value={newName} onChange={handleNameChange}/>\n\t\t  </div>\n\t\t  <div>\n\t\t\tnumber: <input value={newNumber} onChange={handleNumberChange}/>\n\t\t  </div>\n\t\t  <div>\n\t\t\t<button type=\"submit\">Add</button>\n\t\t  </div>\n\t\t</form>\n\t)\n}\n\nexport default PersonForm","import React from 'react'\n\nconst SinglePerson = ({person, deletePerson}) => {\n\treturn (\n\t\t<p className='mt-0 mb-5'>{person.name} {person.number}<button onClick={deletePerson}>delete</button><br></br></p>\n\t)\n}\n\nexport default SinglePerson","import React from 'react'\nimport SinglePerson from './SinglePerson'\n\nconst Persons = ({filteredPersons, deletePerson}) => {\n\treturn (\n\t\t<>\n\t\t{filteredPersons.map((filteredperson) => <SinglePerson key={filteredperson.id} person={filteredperson} deletePerson={() => deletePerson(filteredperson.id, filteredperson.name)}/>)}\n\t\t</>\n\t)\n}\n\nexport default Persons","import React from 'react'\n\nconst Notification = ({message}) => {\n\tif (message === null) {\n\t\treturn null\n\t  }\n\t return (\n\t\t\t  <div className=\"message\">\n\t\t\t\t  {message}\n\t\t\t  </div>\n\t )\n\n}\n\nexport default Notification","import React from 'react'\n\nconst Showerror = ({message}) => {\n\tif (message === null) {\n\t\treturn null\n\t  }\n\t return (\n\t\t\t  <div className=\"error\">\n\t\t\t\t  {message}\n\t\t\t  </div>\n\t )\n\n}\n\nexport default Showerror","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n\tconst request = axios.get(baseUrl)\n  \treturn request.then(response => response.data)\n}\n\nconst create = newObject => {\n\tconst request = axios.post(baseUrl, newObject)\n\treturn request.then(response => response.data)\n}\n\nconst remove = (id) => {\n\tconst request = axios.delete(`${baseUrl}/${id}`)\n\t//return request.then(response => response.data)\n\treturn request.then(response => response)\n}\n\nconst update = (id, newObject) => {\n\tconst request = axios.put(`${baseUrl}/${id}`, newObject)\n\treturn request.then(response => response.data)\n}\n\nexport default {\n  getAll,\n  create,\n  remove,\n  update\n}","import React, {useState, useEffect} from 'react'\nimport './index.css'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport Showerror from './components/Showerror'\nimport personService from './services/persons'\n\nconst App = () => {\n\tconst [ persons, setPersons ] = useState([])\n\tconst [ newName, setNewName ] = useState('')\n\tconst [ newNumber, setNewNumber ] = useState('')\n\tconst [ showFiltered, setshowFiltered ] = useState('')\n\tconst [errorMessage, setErrorMessage] = useState(null)\n\tconst [Message, setMessage] = useState(null)\n\n\tuseEffect(() => {\n\t\t// axios\n\t\t// .get('http://localhost:3001/persons')\n\t\tpersonService\n\t\t.getAll()\n\t\t.then(initialPersons => {\n\t\t\tsetPersons(initialPersons)\n\t\t})\n\t}, [])\n\n\tconst handleNameChange = (event) => {\n\t\tsetNewName(event.target.value)\n\t}\n\tconst handleNumberChange = (event) => {\n\t\tsetNewNumber(event.target.value)\n\t}\n\tconst HandleFilterQueryChange = (event) => {\n\t\tsetshowFiltered(event.target.value)\n\t}\n\n\tconst deletePerson = (id, person) => {\n\t\tconst r = window.confirm(`delete ${person}?`)\n\t\tif(r === true) {\n\t\t\tpersonService\n\t\t\t.remove(id)\n\t\t\t.then(() => {\n\t\t\t\tsetPersons(persons.filter(p => p.id !== id))\n\t\t\t})\n\n\t\t}\n\t}\n\n\tconst addName = (event) => {\n\t\tevent.preventDefault()\n\t\tconst personObject = {\n\t\t\tname: newName,\n\t\t\tnumber: newNumber,\n\t\t}\n\t\tconst names = []\n\t\tpersons.map((person) => names.push(person.name))\n\n\n\t\tif (names.includes(newName)) {\n\n\t\t\tconst confirmNewPhone = window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)\n\t\t\tif(confirmNewPhone === true) {\n\t\t\t\tconst id = persons.find(x => x.name === newName).id\n\t\t\t\tconst person = persons.find(p => p.id === id)\n\t\t\t\tconst changedPerson = {...person, number: newNumber}\n\t\t\t\tpersonService\n\t\t\t\t.update(id, changedPerson)\n\t\t\t\t.then(returnedPerson => {\n\t\t\t\t\tsetPersons(persons.map(person => person.id !== id ? person : returnedPerson))\n\t\t\t\t\tsetMessage(`${returnedPerson.name}'s number is updated`)\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetMessage(null)\n\t\t\t\t\t}, 5000)\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tsetErrorMessage(`Information of '${person.name}' has already been removed from server`)\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetErrorMessage(null)\n\t\t\t\t\t}, 5000)\n\t\t\t\t\tsetPersons(persons.filter(p => p.id !== id))\n\t\t\t\t})\n\t\t\t}\n\t\t} else {\n\t\t\t// axios.post('http://localhost:3001/persons', personObject)\n\t\t\tpersonService\n\t\t\t.create(personObject)\n\t\t\t.then(returnedPerson => {\n\t\t\t\tsetPersons(persons.concat(returnedPerson))\n\t\t\t\tsetMessage(`Added ${returnedPerson.name}`)\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetMessage(null)\n\t\t\t\t  }, 5000)\n\t\t\t})\n\t\t}\n\t\tsetNewName('')\n\t\tsetNewNumber('')\n\t}\n\n\tconst filteredPersons = !showFiltered.length ? persons : persons.filter(person => person.name.toLowerCase().indexOf(showFiltered) >= 0)\n\treturn (\n\t  <div>\n\t\t<h2>Phonebook</h2>\n\t\t<Notification message={Message} />\n\t\t<Showerror message={errorMessage} />\n\t\t{/* <p>Filter shown with <input value={showFiltered} onChange={HandleFilterQueryChange}/></p> */}\n\t\t<Filter query={showFiltered} changehandler={HandleFilterQueryChange} />\n\t\t<h2>Add a new</h2>\n\t\t<PersonForm addName={addName} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange}/>\n\n\t\t<h2>Numbers</h2>\n\t\t<Persons filteredPersons={filteredPersons} deletePerson={deletePerson} />\n\t\t{/* {filteredPersons.map((person) => <p className='mt-0 mb-5' key={person.name}>{person.name} {person.number}<br></br></p>)} */}\n\n\t  </div>\n\t)\n  }\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\n\n\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}